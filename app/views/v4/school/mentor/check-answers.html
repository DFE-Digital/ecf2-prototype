{% extends "layouts/mentors.html" %}

{% if data['fullName'] %}
{% set name = data['fullName'] %}
{% else %}
{% set name = 'Samuel Taylor' %}
{% endif %}

{% set pageName="Check your answers before registering " + name + " as a mentor" %}

{% block beforeContent %}
{{ govukBackLink({
text: "Back",
href: "javascript:window.history.back()"
}) }}
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <form method="post">
        <h1 class="govuk-heading-l">{{ pageName }}</h1>

            {% if data['dob-day'] and data['dob-month'] and data['dob-year'] %}
            {% set dob = data['dob-day'] + ' ' + data['dob-month'] | monthName + ' ' + data['dob-year'] %}
            {% else %}
            {% set dob = '1 January 1990' %}
            {% endif %}

            {% if data['trn'] %}
            {% set trn = data['trn'] %}
            {% else %}
            {% set trn = '5249105' %}
            {% endif %}

            {% if data['email'] %}
            {% set email = data['email'] %}
            {% else %}
            {% set email = 'email@email.com' %}
            {% endif %}

            {% if data['fullName'] %}
            {% set name = data['fullName'] %}
            {% else %}
            {% set name = 'Samuel Taylor' %}
            {% endif %}

            {% set rows = [
            {
            key: {
            text: "Who they will mentor"
            },
            value: {
            text: "John Smith"
            }
            },
            {
            key: {
            text: "Teacher reference number (TRN)"
            },
            value: {
            text: trn
            }
            },
            {
            key: {
            text: "Date of birth"
            },
            value: {
            text: dob
            }
            },
            {
            key: {
            text: "Name"
            },
            value: {
            text: name
            },
            actions: {
            items: [
            {
            href: "review-mentor-details?change=yes",
            text: "Change",
            visuallyHiddenText: "name"
            }
            ]
            }
            },
            {
            key: {
            text: "Email address"
            },
            value: {
            text: email
            },
            actions: {
            items: [
            {
            href: "email-address?change=yes",
            text: "Change",
            visuallyHiddenText: "email address"
            }
            ]
            }
            }
            ] %}

            {% if data['deliveryPartner'] %}
            {% set dp = data['deliveryPartner'] %}
            {% else %}
            {% set dp = 'London District East TSH' %}
            {% endif %}

            {% if data['leadProvider'] %}
            {% set lp = data['leadProvider'] %}
            {% else %}
            {% set lp = 'Ambition Institute' %}
            {% endif %}

            {% set rows = rows.concat([{
            key: {
            text: "Lead provider"
            },
            value: {
            text: lp
            },
            actions: {
            items: [
            {
            href: "lead-provider?change=yes",
            text: "Change",
            visuallyHiddenText: "lead provider"
            }
            ]
            }
            },
            {
            key: {
            text: "Delivery partner"
            },
            value: {
            text: dp
            },
            actions: {
            items: [
            {
            href: "autocomplete-delivery-partner?change=yes",
            text: "Change",
            visuallyHiddenText: "delivery partner"
            }
            ]
            }
            }]) %}

            {{ govukSummaryList({ rows: rows }) }}

            <button class="govuk-button">Confirm details</button>
        </form>
    </div>
</div>

{% endblock %}
